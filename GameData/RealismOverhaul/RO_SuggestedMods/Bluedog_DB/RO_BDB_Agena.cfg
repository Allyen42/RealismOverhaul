// Agena-A/B RCS and engine 

@PART[bluedog_AgenaA]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
    %RSSROConfig = True
    @rescaleFactor = 1.6256
	
	@MODULE[ModuleEngines]
	{
		%name = ModuleEnginesRF
		%maxThrust = 67 //15 klbf
		%minThrust = 67
		%heatProduction = 100
		%PROPELLANT[LiquidFuel]
		{
			%name = UDMH
			%ratio = 0.451
		}
		%PROPELLANT[Oxidizer]
		{
			%name = IRFNA-III
			%ratio = 0.549
			%DrawGauge = True
		}
		%atmosphereCurve
		{
			%key,0 = 0 276
			%key,1 = 1 100
		}
	}
	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 5
		@gimbalResponseSpeed = 16
	}
	
	!RESOURCE,* {}
	
	@mass = 0.223
	
	@MODULE[ModuleRCSFX]
	{
		@name = ModuleRCS
		@stagingEnabled = True
		@resourceFlowMode = STACK_PRIORITY_SEARCH
		@thrusterPower = 0.04448222
		!resourceName = DELETE
		PROPELLANT
		{
			name = Nitrogen
			ratio = 1.000
		}
		@atmosphereCurve
		{
			@key,0 = 0 68
			@key,1 = 1 30
		}
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 44.325
		basemass = -1
		type = Fuselage
		TANK
		{
			name = Nitrogen
			amount = 8865.0 //0.01109 t
			maxAmount = 8865.0
		}
	}
	%engineType = Agena
	
	@title = Agena-A/B Flight Pack
	@description = Flight Pack RCS for Agena-A and BAC Model 8048/8081 engine.
}

@PART[bluedog_AgenaA]:AFTER[RealismOverhaulEngines]:NEEDS[Bluedog_DB] 
{
	@MODULE[ModuleEngineConfigs] 
	{ 
		!CONFIG[XLR81-BA-11] {} 
		!CONFIG[XLR81-BA-13] {} 
		!CONFIG[Model8096-39] {} 
		!CONFIG[Model8096A] {} 
		!CONFIG[Model8096L] {} 
	}
}

@PART[bluedog_agenaAntenna]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	%rescaleFactor = 1.6256

	@title = Agena-D Antenna
	@manufacturer = Lockheed
	@description = An extendible antenna for the Agena-D.
	@mass = 0.005
}
@PART[bluedog_agenaAntenna]:AFTER[RemoteTech]:NEEDS[Bluedog_DB]
{
	!MODULE[ModuleDataTransmitter],*{}
	
	@MODULE[ModuleRTAntenna]
	{
		@Mode1OmniRange = 6000000
		EnergyCost = 0.05
		@TRANSMITTER
		{
			@PacketInterval = 0.4
			@PacketSize = 1
		}
	}
}

// Agena-D RCS and engine

@PART[bluedog_AgenaD]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
    %RSSROConfig = True
    @rescaleFactor = 1.6256

	@MODULE[ModuleEngines]
	{
		%name = ModuleEnginesRF
		%maxThrust      = 71 //16 klbf
		%minThrust      = 71
		%heatProduction = 100
		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.449
		}
		@PROPELLANT[Oxidizer]
		{
			@name = IRFNA-III
			@ratio = 0.551
		}
		@atmosphereCurve
		{
			@key,0 = 0 291
			@key,1 = 1 100
		}
	}
	
	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 5
		@gimbalResponseSpeed = 16
	}
	
	!RESOURCE,* {}
	
	@mass = 0.223
	
	@MODULE[ModuleRCSFX]
	{
		@name = ModuleRCS
		@stagingEnabled = True
		@resourceFlowMode = STACK_PRIORITY_SEARCH
		@thrusterPower = 0.04448222
		!resourceName = DELETE
		PROPELLANT
		{
			name = Nitrogen
			ratio = 1.000
		}
		@atmosphereCurve
		{
			@key,0 = 0 68
			@key,1 = 1 30
		}
	}

	MODULE
	{
		name = ModuleFuelTanks
		volume = 44.325
		basemass = -1
		type = Fuselage
		TANK
		{
			name = Nitrogen
			amount = 8865.0 //0.01109 t
			maxAmount = 8865.0
		}
	}
	%engineType = Agena
	
	@title = Agena-D Flight Pack
	@description = Flight Pack RCS for Agena-D and BAC Model 8096/8247 engine.
}
@PART[bluedog_AgenaD]:AFTER[RealismOverhaulEngines]:NEEDS[Bluedog_DB] 
{
	@MODULE[ModuleEngineConfigs] 
	{ 
		!CONFIG[XLR81-BA-5] {} 
		!CONFIG[XLR81-BA-7] {}
	}
}

@PART[bluedog_agenaLongTank]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	%rescaleFactor = 1.6256

	@title = Agena-D Fuel Tank
	%manufacturer = Lockheed
	@description = Fuel tank for the Agena-D Upper Stage.
	
	@mass = 0.1644	
	
	!RESOURCE,* {}
	
	MODULE
    {
        name = ModuleFuelTanks
        type = Default
        volume = 4713.3504
        basemass = -1

		// 4 Minute Burn Time for the Agena D Engine
        TANK
        {
            name = UDMH
            amount = 2116.2943
            maxAmount = 2116.2943
        }

        TANK
        {
            name = IRFNA-III
            amount = 2597.0561
            maxAmount = 2597.0561
        }
    }
}

@PART[bluedog_agenaLongWhiteTank]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	%rescaleFactor = 1.6256

	@title = Agena-B Fuel Tank
	%manufacturer = Lockheed
	@description = Fuel tank for the Agena-B Upper Stage.
	
	@mass = 0.1644
	
	!RESOURCE,* {}
	
	MODULE
    {
        name = ModuleFuelTanks
        type = Default
        volume = 4713.3504
        basemass = -1

		// 4 Minute Burn Time for the Agena B Engine
        TANK
        {
            name = UDMH
            amount = 2116.2943
            maxAmount = 2116.2943
        }

        TANK
        {
            name = IRFNA-III
            amount = 2597.0561
            maxAmount = 2597.0561
        }
    }
}

@PART[bluedog_agenaMediumTank]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	%rescaleFactor = 1.6256

	@title = Agena-A Fuel Tank
	%manufacturer = Lockheed
	@description = Fuel tank for the Agena-A Upper Stage.
	
	@mass = 0.9712
	
	!RESOURCE,* {}
	
	MODULE
    {
        name = ModuleFuelTanks
        type = Default
        volume = 2887.5172
        basemass = -1

		// 2 Minute Burn Time for the Agena A Engine
        TANK
        {
            name = UDMH
            amount = 1296.4952
            maxAmount = 1296.4952
        }

        TANK
        {
            name = IRFNA-III
            amount = 1591.0220
            maxAmount = 1591.0220
        }
    }
}

@PART[bluedog_agenaNoseCone]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	%rescaleFactor = 1.6256

	@title = Agena Nose Cone
	%manufacturer = Lockheed
	@description = This nose cone is designed to go over the top of the Agena Docking Adapter for the Agena Target Vehicle.
	
	@mass = 0.0111
}

@PART[bluedog_agenaPort]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	%rescaleFactor = 1.6256

	@title = Gemini Agena Target/Docking Adapter
	%manufacturer = Lockheed
	@description = Gemini target/docking adapter used to convert an Agena-D into a Gemini Agena Target Vehicle.
	
	@mass = .211
	
	@MODULE[ModuleDockingNode]
	{
		@nodeType = GeminiAgena
        %gendered = True
        %genderFemale = True
		%acquireForce = 0.5 // 2
		%acquireMinFwdDot = 0.8 // 0.7
		%acquireminRollDot = -3.40282347E+38
		%acquireRange = 0.25 // 0.5
		%acquireTorque = 0.5 // 2.0
		%captureMaxRvel = 0.1 // 0.3
		%captureMinFwdDot = 0.998
		%captureMinRollDot = -3.40282347E+38
		%captureRange = 0.05 // 0.06
		%minDistanceToReEngage = 0.25 // 1.0
		%undockEjectionForce = 0.1 // 10
	}
}

@PART[bluedog_agenaProbeCore]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	%rescaleFactor = 1.6256
	@mass = 0.228
	@title = Agena Avionics Package [1.5m]
	@manufacturer = Lockheed
	@description = An early but advanced avionics module for upper stages. Carries an 11.8 kWh battery, providing control for just over 47 hr, and an omnidirectional antenna with an effective range of 1,500 km to ground stations. Capable of maintaining a pitch and roll program. Allows full control over the vessel, up to the tonnage limit (cumulative).
	
	@MODULE[ModuleCommand]
	{
		@RESOURCE[ElectricCharge]
		{
			@rate = 0.25
		}
		@hasHibernation = False
	}
	@RESOURCE[ElectricCharge]
	{
		@amount = 42480
		@maxAmount = 42480
	}
	!MODULE[ModuleReactionWheel] { }
	@MODULE[ModuleSAS]
	{
		@SASServiceLevel = 1
	}
}
@PART[bluedog_agenaProbeCore]:NEEDS[RemoteTech]:NEEDS[Bluedog_DB]:FOR[RealismOverhaul]
{
    %MODULE[ModuleSPU]
    {
        %name = ModuleSPU
    }

    %MODULE[ModuleRTAntennaPassive]
    {
        %name = ModuleRTAntennaPassive
        %TechRequired = start

        %OmniRange = 300000

        %TRANSMITTER
        {
            %PacketInterval = 0.4
            %PacketSize = 0.27
            %PacketResourceCost = 0.1
        }
    }
}

@PART[bluedog_agenaSecondaryEngine]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
    %RSSROConfig = True
    @rescaleFactor = 1.6256

	@MODULE[ModuleEngines]
	{
		%name = ModuleEnginesRF
		%maxThrust = 0.9 //200 lbf
		%minThrust = 0.9
		%heatProduction = 20
		%PROPELLANT[LiquidFuel]
		{
			%name = UDMH
			%ratio = 0.389
		}
		%PROPELLANT[Oxidizer]
		{
			%name = MON3
			%ratio = 0.611
			%DrawGauge = True
		}
		%atmosphereCurve
		{
			%key,0 = 0 225
			%key,1 = 1 100
		}
	}
	
	!RESOURCE,* {}

    %engineType = AgenaSPS
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False
	
	@mass = 0.115
	
	@title = Agena-D Secondary Propulsion System
	@description = SPS for Agena-D.
}

@PART[bluedog_agenaShortTank]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	%rescaleFactor = 1.6256

	@title = Agena Fuel Tank (Short)
	%manufacturer = Lockheed
	@description = Short length fuel tank for the Agena Upper Stage.
	
	@mass = 0.0559
	
	!RESOURCE,* {}
	
	MODULE
    {
        name = ModuleFuelTanks
        type = Default
        volume = 1519.7458
        basemass = -1

		// 2 Minute Burn Time for the Agena A Engine
        TANK
        {
            name = UDMH
            amount = 682.3659
            maxAmount = 682.3659
        }

        TANK
        {
            name = IRFNA-III
            amount = 837.3799
            maxAmount = 837.3799
        }
    }
}

@PART[bluedog_agenaShortTankM]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%RSSROConfig = True
	%rescaleFactor = 1.6256

	@title = Agena Fuel Tank (Short)
	%manufacturer = Lockheed
	@description = Short length fuel tank for the Agena Upper Stage.
	
	@mass = 0.0559
	
	!RESOURCE,* {}
	
	MODULE
    {
        name = ModuleFuelTanks
        type = Default
        volume = 1519.7458
        basemass = -1

		// 2 Minute Burn Time for the Agena A Engine
        TANK
        {
            name = UDMH
            amount = 682.3659
            maxAmount = 682.3659
        }

        TANK
        {
            name = IRFNA-III
            amount = 837.3799
            maxAmount = 837.3799
        }
    }
}
